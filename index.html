<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABBA - Accountable Budget & Blockchain Accountability</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Navigation Header -->
    <header class="header">
        <nav class="nav">
            <div class="nav__brand">
                <h1>ABBA</h1>
                <span>Accountable Budget & Blockchain Accountability</span>
            </div>
            <div class="nav__controls">
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="Search organizations, data..." class="search-input">
                    <button class="search-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                    </button>
                </div>
                <button class="theme-toggle" id="themeToggle">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </nav>
    </header>

    <!-- Main Container -->
    <main class="main-container">
        <!-- Landing Page -->
        <section id="landingPage" class="page active">
            <div class="container">
                <div class="hero">
                    <h2>Financial Transparency Dashboard</h2>
                    <p>Access comprehensive financial data, impact metrics, and transparency reports across organizations</p>
                </div>
                
                <div class="org-categories">
                    <div class="category-card" data-category="ngos">
                        <div class="category-card__icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                        </div>
                        <h3>NGOs</h3>
                        <p>Non-profit organizations focused on social welfare, education, healthcare, and community development initiatives across India.</p>
                        <div class="category-stats">
                            <span>5 Organizations</span>
                            <span>₹1,004 Cr Total Budget</span>
                        </div>
                    </div>

                    <div class="category-card" data-category="government_projects">
                        <div class="category-card__icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 21h18"></path>
                                <path d="M5 21V7l8-4v18"></path>
                                <path d="M19 21V11l-6-4"></path>
                            </svg>
                        </div>
                        <h3>Government Projects</h3>
                        <p>Large-scale government initiatives including healthcare, sanitation, financial inclusion, and digital transformation programs.</p>
                        <div class="category-stats">
                            <span>5 Projects</span>
                            <span>₹1,346 Cr Total Budget</span>
                        </div>
                    </div>

                    <div class="category-card" data-category="colleges">
                        <div class="category-card__icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
                                <path d="M6 12v5c3 3 9 3 12 0v-5"></path>
                            </svg>
                        </div>
                        <h3>Educational Institutions</h3>
                        <p>Premier educational institutions including IITs, universities, and colleges with detailed financial and academic performance data.</p>
                        <div class="category-stats">
                            <span>5 Institutions</span>
                            <span>₹1,030 Cr Total Budget</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Organization Selection Page -->
        <section id="orgSelectionPage" class="page">
            <div class="container">
                <div class="page-header">
                    <button class="back-btn" id="backToLanding">← Back</button>
                    <h2 id="categoryTitle">Select Organization</h2>
                </div>
                
                <div class="org-grid" id="organizationGrid">
                    <!-- Organizations will be populated dynamically -->
                </div>
            </div>
        </section>

        <!-- Role Selection Page -->
        <section id="roleSelectionPage" class="page">
            <div class="container">
                <div class="page-header">
                    <button class="back-btn" id="backToOrgs">← Back</button>
                    <h2>Select Your Role</h2>
                    <p>Choose your access level to view appropriate data</p>
                </div>
                
                <div class="role-selection">
                    <div class="role-card" data-role="public">
                        <div class="role-card__icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM12 14a7 7 0 0 0-7 7h14a7 7 0 0 0-7-7z"></path>
                            </svg>
                        </div>
                        <h3>Public/Supporter</h3>
                        <p>View general financial information, impact metrics, and transparency reports. Access to summarized data and public disclosures.</p>
                        <ul>
                            <li>Financial overview and trends</li>
                            <li>Impact metrics and outcomes</li>
                            <li>Public transparency reports</li>
                            <li>General fraud alerts</li>
                        </ul>
                    </div>

                    <div class="role-card" data-role="admin">
                        <div class="role-card__icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                <circle cx="12" cy="16" r="1"></circle>
                                <path d="m7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                        </div>
                        <h3>Administrator</h3>
                        <p>Complete access to detailed financial data, salary information, fraud detection systems, and administrative controls.</p>
                        <ul>
                            <li>Detailed financial breakdowns</li>
                            <li>Complete salary information</li>
                            <li>Advanced fraud detection</li>
                            <li>Administrative controls</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dashboard Page -->
        <section id="dashboardPage" class="page">
            <div class="container">
                <div class="dashboard-header">
                    <div class="dashboard-nav">
                        <button class="back-btn" id="backToRoles">← Back</button>
                        <div class="org-info">
                            <h2 id="currentOrgName">Organization Dashboard</h2>
                            <span id="currentOrgType" class="org-type-badge">Type</span>
                        </div>
                        <div class="role-badge" id="currentRole">Public View</div>
                    </div>
                </div>

                <!-- Dashboard Tabs -->
                <div class="dashboard-tabs">
                    <button class="tab-btn active" data-tab="overview">Overview</button>
                    <button class="tab-btn" data-tab="financials">Financials</button>
                    <button class="tab-btn" data-tab="salaries">Salaries</button>
                    <button class="tab-btn" data-tab="fraud">Fraud Detection</button>
                    <button class="tab-btn" data-tab="impact">Impact</button>
                </div>

                <!-- Tab Content -->
                <div class="tab-content">
                    <!-- Overview Tab -->
                    <div id="overviewTab" class="tab-panel active">
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <h4>Total Income</h4>
                                <div class="metric-value" id="totalIncome">₹0</div>
                                <div class="metric-change positive">+12.5% from last year</div>
                            </div>
                            <div class="metric-card">
                                <h4>Total Expenses</h4>
                                <div class="metric-value" id="totalExpenses">₹0</div>
                                <div class="metric-change negative">+8.2% from last year</div>
                            </div>
                            <div class="metric-card">
                                <h4>Net Surplus</h4>
                                <div class="metric-value" id="netSurplus">₹0</div>
                                <div class="metric-change positive">+45.8% from last year</div>
                            </div>
                            <div class="metric-card">
                                <h4>Efficiency Ratio</h4>
                                <div class="metric-value" id="efficiencyRatio">0%</div>
                                <div class="metric-change neutral">Industry: 85%</div>
                            </div>
                        </div>

                        <div class="chart-section">
                            <div class="chart-container" style="position: relative; height: 400px;">
                                <h4>Monthly Financial Trends</h4>
                                <canvas id="monthlyChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Financials Tab -->
                    <div id="financialsTab" class="tab-panel">
                        <div class="financial-breakdown">
                            <div class="breakdown-section">
                                <h4>Income Breakdown</h4>
                                <div class="breakdown-chart" style="position: relative; height: 300px;">
                                    <canvas id="incomeChart"></canvas>
                                </div>
                                <div id="incomeDetails" class="financial-details"></div>
                            </div>
                            
                            <div class="breakdown-section">
                                <h4>Expense Breakdown</h4>
                                <div class="breakdown-chart" style="position: relative; height: 300px;">
                                    <canvas id="expenseChart"></canvas>
                                </div>
                                <div id="expenseDetails" class="financial-details"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Salaries Tab -->
                    <div id="salariesTab" class="tab-panel">
                        <div class="salary-section">
                            <h4>Compensation Structure</h4>
                            <div id="salaryTable" class="salary-table">
                                <!-- Salary data will be populated here -->
                            </div>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="salaryChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Fraud Detection Tab -->
                    <div id="fraudTab" class="tab-panel">
                        <div class="fraud-section">
                            <h4>Fraud Detection Alerts</h4>
                            <div id="fraudAlerts" class="fraud-alerts">
                                <!-- Fraud alerts will be populated here -->
                            </div>
                            
                            <div class="fraud-stats">
                                <h4>Risk Assessment</h4>
                                <div class="risk-meter">
                                    <div class="risk-indicator" id="riskIndicator">
                                        <span class="risk-level" id="riskLevel">Low Risk</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Impact Tab -->
                    <div id="impactTab" class="tab-panel">
                        <div class="impact-section">
                            <h4>Impact Metrics</h4>
                            <div id="impactMetrics" class="impact-metrics">
                                <!-- Impact metrics will be populated here -->
                            </div>
                            
                            <div class="infrastructure-section">
                                <h4>Infrastructure Details</h4>
                                <div id="infrastructureDetails" class="infrastructure-details">
                                    <!-- Infrastructure details will be populated here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner"></div>
        <p>Loading financial data...</p>
    </div>

    <!-- Search Results Modal -->
    <div id="searchModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Search Results</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="searchResults"></div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>